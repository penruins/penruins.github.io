import{_ as s,c as a,o,af as r}from"./chunks/framework.B_Cnan0x.js";const _=JSON.parse('{"title":"2025-08-26 ssh 进行端口转发","description":"","frontmatter":{"bookHidden":true},"headers":[],"relativePath":"article/2025/2025-08-26-ssh-端口转发.md","filePath":"article/2025/2025-08-26-ssh-端口转发.md"}'),c={name:"article/2025/2025-08-26-ssh-端口转发.md"};function d(n,e,t,p,l,i){return o(),a("div",null,[...e[0]||(e[0]=[r(`<h1 id="_2025-08-26-ssh-进行端口转发" tabindex="-1">2025-08-26 ssh 进行端口转发 <a class="header-anchor" href="#_2025-08-26-ssh-进行端口转发" aria-label="Permalink to “2025-08-26 ssh 进行端口转发”">​</a></h1><p>如果你的网络连接是这样的：你当前的电脑是 <code>Network-Node-1</code>, 可以通过 ssh 连接服务器 <code>Server-1</code>, <code>Server-1</code> 可以通过 ssh 连接 <code>Server-2</code>, 和 <code>Server-3</code>，<code>Server-2</code> 和 <code>Server-3</code> 也是相互联通的。但是 <code>Network-Node-1</code> 不能直接连接 <code>Server-2</code> 和 <code>Server-3</code>。</p><p>如果在 <code>Server-2</code> 或者 <code>Server-3</code> 上部署了一些服务(例如数据库)，你会如何连接这些服务呢？</p><p>这个时候最好的方法就是使用端口转发</p><p>在 <code>~/.ssh/config</code> 中进行配置</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>Host test</span></span>
<span class="line"><span>    HostName Server-1</span></span>
<span class="line"><span>    User myuser </span></span>
<span class="line"><span>    Port 22</span></span>
<span class="line"><span>    LocalForward 18001 Server-2:22 # Server-2 ssh</span></span>
<span class="line"><span>    LocalForward 18002 Server-3:22 # Server-3 ssh</span></span>
<span class="line"><span>    LocalForward 18003 Server-2:3306 # mysql</span></span></code></pre></div><p>文件保存之后执行 <code>ssh test</code>, 接下来输入密码就会通过 ssh 连接到 <code>Server-1</code>, 这个时候你所看到的和普通的 ssh 连接没有什么区别，但实际上它进行了<strong>端口转发</strong>。保留当前这个窗口不关闭，使用 ip 为 localhost，端口为 18001 和 18002, 可以在 <code>Network-1</code> 直接连接 <code>Server-2</code> 和 <code>Server-3</code>, 同时也可以通过 <code>localhost:3306</code> 连接在 <code>Server-2</code> 上部署的 mysql 服务</p>`,7)])])}const S=s(c,[["render",d]]);export{_ as __pageData,S as default};
